import UploadImg from './index';
import { Form, Button } from 'antd';
const FormItem = Form.Item;

class HorizontalLoginForm extends React.Component {

  componentDidMount() {
    //this.props.form.setFieldsValue({img: ['image/2017-03-15/b0e599ddc2050bc33a9a2d728c84916a.png', 'http://galitv.alicdn.com/product/image/2016-12-05/11a1c031c95d0a45e86a644a40f0a4bd.png']});
  }

  handleSubmit = (e) => {
    e.preventDefault();
    this.props.form.validateFields((err, values) => {
      if (!err) {
        console.log('Received values of form: ', values);
      }
    });
  }

  render() {
    const { getFieldDecorator } = this.props.form;

    return (
      <Form onSubmit={this.handleSubmit}>
        {/*<FormItem>
          {getFieldDecorator('img', {
            initialValue: ['image/2017-03-15/b0e599ddc2050bc33a9a2d728c84916a.png']
          })(
            <UploadImg length={2} listType={"picture-card"} />
          )}
        </FormItem>*/}
        {/*<FormItem>
          {getFieldDecorator('img', {
            initialValue: 'image/2017-03-15/b0e599ddc2050bc33a9a2d728c84916a.png'
          })(
            <UploadImg showUploadList={false} keepUploadBtn={true} />
          )}
        </FormItem>*/}
        <div>-------------------------</div>
        <UploadImg showUploadList={false} keepUploadBtn={true} onChange={val => console.log('----', val)} />
        <FormItem>
          <Button
            type="primary"
            htmlType="submit"
          >
            查看
          </Button>
        </FormItem>
      </Form>
    );
  }
}

const WrappedHorizontalLoginForm = Form.create()(HorizontalLoginForm);

ReactDOM.render(<WrappedHorizontalLoginForm />, document.getElementById('app'));
